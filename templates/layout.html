
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="ITP Travels">
        <!-- Latest compiled and minified CSS -->
<!--         <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"> -->
        <link rel="stylesheet" href="/static/css/bootstrap.min.css"> 
        <link rel="stylesheet" href="/static/css/navbar.css"> 
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

        <!-- Get Font from Google http://www.google.com/webfonts -->
        <link href='http://fonts.googleapis.com/css?family=Peralta' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Raleway+Dots' rel='stylesheet' type='text/css'>

        

    </head>
  <body>


<script>

var geocoder;
var map;
var allMarkers = [];
var myMarker;
var infoWindow;

function initialize() {
  geocoder = new google.maps.Geocoder();
  var latlng = new google.maps.LatLng(-14.397, 150.644);
  var mapOptions = {
    zoom: 2,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

  // load markers if available
    if (loadMarkers != undefined) {
      loadMarkers();
    }

  }

  function codeAddress() {
    
    var address = document.getElementById('address').value;
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
          
          // recenter map to new location
          map.setCenter(results[0].geometry.location);

          // console.log("new location at...");
          // console.log(results[0].geometry.location.lat());
          // console.log(results[0].geometry.location.lng());
          $("#longitude").val(results[0].geometry.location.lng());
          $("#latitude").val(results[0].geometry.location.lat());

           } else {
                alert('Geocode was not successful for the following reason: ' + status);
           }
          });
        }

        function createInfoWindow(content, latLng){
            var infowindow = new google.maps.InfoWindow({
              position: latLng,
              content : content
            });

            return infowindow;
        }

        function openInfoWindow (content, latLng, map) {
          if(infoWindow){
            infoWindow.close();
            infoWindow = null;
          }

          infoWindow = createInfoWindow(content, latLng);
          infoWindow.open(map);
            
        }    

        function createMarker(lat,lng,titleText, bodyText) {
          console.log('createMarker');  
          // create google lat lng object
            var latLng = new google.maps.LatLng(String(lat), String(lng)); 

            var marker = new google.maps.Marker({
              position: latLng,
              map: map, 
              title: titleText,
            });

            allMarkers.push(marker);  

            google.maps.event.addListener(marker, 'click', function(event) {
              var latLng = event.latLng;
              bodyText = bodyText || 'Some Body Text';  //if body text is true run it, otherwise display string
              openInfoWindow(bodyText, latLng, map);
            });             
          };


          google.maps.event.addDomListener(window, 'load', initialize);


          var car = createCar(4, 'green');

          car.constructor('Some variable');
          car.drive();
          console.log(car.color);




          function createCar(wheels, color){
            var MyCar = {
              color: color,
              wheels: wheels,
              constructor: function(t){
                console.log('constructor ran', t)    
              },
              drive: function(){
                console.log('Driving');
              }     
            }

            return MyCar;

          }
            
</script>



    <div id="panel">
      <input id="address" type="textbox" value="Sydney, NSW">
      <input type="button" value="Geocode" onclick="codeAddress()">
    </div>
    <div id="map-canvas"></div>
    <div class="container">





      <!-- Static navbar -->
      <div class="navbar navbar-default">
        <!-- <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div> -->
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="navbar-brand"><a href="/"><strong>Pin Drop Travel</strong></a></li>
          </ul>
        <!--   <ul class="nav navbar-nav navbar-right">
            <li class="active"><a href="./">Default</a></li>
            <li><a href="../navbar-static-top/">Static top</a></li>
            <li><a href="../navbar-fixed-top/">Fixed top</a></li>
          </ul> -->
        </div><!--/.nav-collapse -->
      </div>

      <!-- Main component for a primary marketing message or call to action -->
     

      <div class="jumbotron" id="map_canvas"></div>
        <br>
      <div class="jumbotron">
        
        {% block body %}{% endblock %}

      </div>      

            <footer>
                <a href="/"><strong>Back to ITP Travels</strong></a>
            </footer>

        </div> <!-- /container -->

      

       
        <!-- Latest compiled and minified JavaScript -->
       

        {% block scripts %}{% endblock %}

    </body>
</html>